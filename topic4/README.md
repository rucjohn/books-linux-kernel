# 中断和异常

中断（interrupr）通常被定义为一个事件，该事件改变处理器执行的指令顺序。这样的事件与CPU芯片内外部硬件电路产生的电信号相对应。

中断通常分为同步（synchronous）中断和异步（asynchronous）中断：
- 同步中断是当指令执行时由CPU控制单元产生的，**之所以称为同步，是因为只有在一条指令终止执行后CPU才会发出中断**。
- 异步中断是由其他硬件设备依照CPU时钟信号随机产生的。

在 Intel 微处理器手册中，把同步和异步中断分别称为异常（exception）和中断（interrupr）。我们也采用这种分类，当然有时我们也用术语 “中断信号” 指这两种类型（同步及异步）。

**中断是由间隔定时器和 I/O 设备产生的**，例如，用户的一次接键会引起一个中断。

另一方面，**异常是由程序的错误产生的，或者是由内核必须处理的异常条件产生的**。第一种情况下，内核通过发送一个每个 Unix 程序员都熟悉的信号来处理异常。第二种情况下，内核执行恢复异常需要的所有步骤，例如缺页，或对内核服务的一个请求（通过一条 int 或 sysenter 指令）。

我们在下一节描述引入信号的动机，以此开始进行学习。然后，说明由 I/O 设备产生的著名 IRQ（Interrupt ReQuest）如何引起中断，我们将详细讨论 80x86 微处理器如何在硬件级处理中断和异常。接下来，我们将在 “初始化中断描述符表” 一节闸明 Linux 如何初始化 Intel 中断结构必需的所有数据结构。剩余的 3 节描述 Linux 如何在软件级处理中断信号。

继续进行学习之前，需要值得注意的是：我们在本章仅涉及对所有 PC 都通用的 “经典” 中断，而不涉及一些体系结构的非标准中断。
