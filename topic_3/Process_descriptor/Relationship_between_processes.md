# 进程间的关系

程序创建的进程具有父/子关系。如果一个进程创建多个子进程时，则子进程之间具有兄弟关系。在进程描述符中引入几个字段 来表示这些关系，表示给定进程 P 的这些字段列在表 3-3 中。**进程 0 和 进程 1 是由内核创建的**；稍后我们将看到，进程 1（*init*）是所有进程的祖先。

**表 3-3：进程描述符中表示进程亲属关系的字段的描述**
字段名 | 说明
--- | ---
real_parent | 指向创建了 P 的进程的描述符，如果 P 的父进程不再存在，就指向进程 1（*init*）的描述符（因此，如果用户运行一个后台进程而且退出了 shell，后台进程就会成为 *init* 的子进程）
parent | 指向 P 的当前父进程（这种进程的子进程终止时，必须向父进程发信号）。它的值通常与 real_parent 一致，但偶尔也可以不同，例如，当另一个进程发出监控 P 的 `ptrace()` 系统调用请求时（参见第二十章中 “执行跟踪” 一节）
children | 链表的头部，链表中的所有元素都是 P 创建的子进程
sibling | 指向兄弟进程链表中的下一个元素或前一个元素的指针，这些兄弟进程的父进程都是 P

图 3-4 显示了一组进程间的亲属关系。进程 P0 接连创建了 P1、P2、P3。进程 P3 又创建了 P4。

特别要说明的是，进程之间还存在其他关系：
- 一个进程可能是一个进程组或登录会话的领头进程（参见第一章 “进程管理” 一节）
- 一个进程可能是一个线程组的领头进程（参见本章前面 “标识一个进程” 一节）
- 一个进程可能跟踪其他进程的执行（参见第二十章 “执行跟踪” 一节）




