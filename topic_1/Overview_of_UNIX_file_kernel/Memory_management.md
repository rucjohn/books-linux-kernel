### 内存管理

内存管理是迄今为止 Unix 内核中最复杂的活动。在本书中，我们将用超过三分之一的篇幅来描述 Linux 是如何实现它的。本节只说明一些与内存管理相关的主要问题。

#### 虚拟内存

所有新迈的 Unix 系统都提供了一种有用的抽象，叫虚拟内存（*virtual memory*）。虚拟内存作为一种逻辑层，处于应用层的内存请求与硬件内存管理单元（MemoryManagement Unit, MMU）之间。虚拟内存有很多有用用途和优点：

- 若干个进程可以并发地执行。
- 应用程序所需内存大于可用物理内存时也可以运行。
- 程序只有部分代码装入内存时进程可以执行它。
- 允许每个进程访问可用物理内存的子集。
- 进程可以共享库函数或程序的一个单独内存映像。
- 程序是可重定位的，也就是说，可以把程序在物理内存的任何地方。
- 程序员可以编写与机器无关的代码，因为他们不必关心有关物理内存的组织结构。

虚拟内存子系统的主要成分是虚拟地址空间（*virtual address space*）的概念。进程所用的一组内存地址不同于物理内存地址。当进程使用一个虚拟地址时，内核和 MMU 协同定位其在内存中的实际物理位置。

现在的 CPU 包含了能自动把虚拟地址转换成物理地址的硬件电路。为了达到这个目标，把可用 RAM 划分成长度为 4KB 或 8KB 的页框（page frame），并且引入一组页表来指定虚拟地址与物理地址之间的对应关系。这些电路使内存分配变得简单，因为一块连续的虚拟地址请求可以通过分配一组非连续的物理地址页框而得到满足。

#### 随机访问存储器（RAM）的使用

#### 内核内存分配器

#### 进程虚拟地址空间处理

#### 调整缓存
